<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Password Generator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/a55bef8649.js" crossorigin="anonymous"></script>
</head>
<body>
    <h1>Password Generator⚙️!!</h1>
    <div>
        <pre>
            With over 13 sextillion possible combinations, each password generated here 
            is extremely difficult to guess or brute-force. 
            
            All password generation happens only on your device for maximum privacy.

        </pre>
    </div>
    <div class="card">

        <div class="password-box">
            <h2 id="password">#</h2>
            <span class="copy-icon" id="copyBtn"><i class="fa-regular fa-copy"></i></span>
        </div>
        <button onclick="generate()">Generate Password</button>
    </div>

    <script>
        
        if(document.getElementById("password").innerText === "#"){
            document.getElementById("password").style.visibility = "hidden";
            document.getElementById("copyBtn").style.visibility = "hidden";
        }

        document.getElementById('copyBtn').onclick = function(){
            const passwordText = document.getElementById('password').innerText;
            navigator.clipboard.writeText(passwordText).then(() => {
                const icon = document.querySelector('.copy-icon i');
                icon.classList.remove('fa-copy','fa-regular');
                icon.classList.add('fa-check','fa-solid');
                setTimeout(() => {
                    icon.classList.remove('fa-check','fa-solid');
                    icon.classList.add('fa-copy','fa-regular');
                }, 2000);
            }).catch(err => {
                alert("Failed to copy password: ", err);
            });
        }
        function generate(){
            const length = 12;
            const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";
            let password = "";
            for(let i=0,n=charset.length;i<length;i++){
                password += charset.charAt(Math.floor(Math.random() * n));
            }
            document.getElementById("password").innerText = password;
            document.getElementById("password").style.visibility = "visible";
            document.getElementById("copyBtn").style.visibility = "visible";
        }
    </script>
</body>
</html>